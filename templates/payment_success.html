<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Payment Success</title>
    <link rel="stylesheet" href="/static/store.css">
</head>
<body>

<div class="success-box"><p><strong>Order ID:</strong> <span id="order-id"></span></p>
    <p><strong>Total Amount:</strong> LKR <span id="total-amount"></span></p>
    <p><strong>Status:</strong> <span id="payment-status"></span></p>
    
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        document.getElementById("order-id").textContent = sessionStorage.getItem("orderId") || "N/A";
        document.getElementById("total-amount").textContent = sessionStorage.getItem("totalAmount") || "0";
        document.getElementById("payment-status").textContent = sessionStorage.getItem("paymentStatus") || "pending";
    
        sessionStorage.clear(); // Clear session after displaying
    });
    
    function goToStore() {
        window.location.href = "/store";
    }
    </script>
    
    <h2>ðŸŽ‰ Payment Successful!</h2>
    <p>Your order has been confirmed.</p>
    <p><strong>Order ID:</strong> <span id="order-id"></span></p>

    <button id="backToStoreBtn">Back to Store</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const orderId = sessionStorage.getItem("orderId");
    document.getElementById("order-id").textContent = orderId || "N/A";

    document.getElementById("backToStoreBtn")
      .addEventListener("click", () => {
          window.location.href = "/store";
      });

    sessionStorage.removeItem("paymentSuccess");
});
</script>

</body>
</html>
